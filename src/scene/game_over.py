from src.service import button, oled_lcd, oled_nevigate
from src.service.scene import SCENE as scene
from time import sleep, time_ns

def main():

    graphic = [0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFE000000, 0x00000000, 0x00000000, 0x0000007F, 0xFE000000, 0x00000000, 0x00000000, 0x0000007F, 0xFC000000, 0x00000000, 0x00000000, 0x0000003F, 0xFC000000, 0x00000000, 0x00000000, 0x0000003F, 0xF8000000, 0x00000000, 0x00000000, 0x0000001F, 0xE0000000, 0x00000000, 0x00000000, 0x00000007, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x800003E0, 0x306073F8, 0x0FC60CFE, 0x7E380001, 0x800007F0, 0x707073F8, 0x1FE61CFE, 0x7F300001, 0x80000E00, 0xF070E300, 0x386619C0, 0x63300001, 0x80001C00, 0xF0F1E700, 0x306639C0, 0xE3300001, 0x80001801, 0xD8F1E7F0, 0x306331FC, 0xE7300001, 0x800019F1, 0x98F3E7F0, 0x706371FC, 0xFE700001, 0x80001873, 0x98DBE600, 0x70636180, 0xFC600001, 0x80001873, 0xF8DEE600, 0x70E3C180, 0xCE000001, 0x80001867, 0xF9DEC600, 0x30C3C380, 0xCE000001, 0x80001FE6, 0x19DCCFF0, 0x3F8383F9, 0xC6E00001, 0x800007EE, 0x1D8CCFF0, 0x1F0183F9, 0x86E00001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0x80000000, 0x00000000, 0x00000000, 0x00000001, 0xE0000000, 0x00000000, 0x00000000, 0x00000007, 0xF8000000, 0x00000000, 0x00000000, 0x0000001F, 0xFC000000, 0x00000000, 0x00000000, 0x0000003F, 0xFC000000, 0x00000000, 0x00000000, 0x0000003F, 0xFE000000, 0x00000000, 0x00000000, 0x0000007F, 0xFE000000, 0x00000000, 0x00000000, 0x0000007F, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF]

    oled_lcd.clear()
    oled_nevigate.reset()
    oled_nevigate.setAllButtonIcon(oled_nevigate.Icon.CONFIRM)

    oled_lcd.insertPixelImage(graphic, 0, 0, 128, 40)
    oled_lcd.textInLine("Thank 4 playing", oled_lcd.CenterX(), 4, oled_lcd.TextAlign.CENTER, True)

    while True:
        if button.is_first_press(0) or button.is_first_press(1) or button.is_first_press(2) or button.is_first_press(3):
            return scene.MENU
        button.clock_tick(1 / 30)
        sleep(1 / 30)

if __name__ == "__main__":
    main()